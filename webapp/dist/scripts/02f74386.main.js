"use strict";var map;$(document).ready(function(){function a(){return window.alert("helloWorld!"),!1}function b(){$("#expList").find("li:has(ul)").click(function(a){return this==a.target&&($(this).toggleClass("expanded"),console.log(a.target.firstChild.nodeValue),$(this).children("ul").toggle("medium")),!1}).addClass("collapsed").children("ul").hide(),$("#expandList").unbind("click").click(function(){$(".collapsed").addClass("expanded"),$(".collapsed").children().show("medium")}),$("#collapseList").unbind("click").click(function(){$(".collapsed").removeClass("expanded"),$(".collapsed").children().hide("medium")})}L.Icon.Default.imagePath="/images/";{var c="http://{s}.tile.cloudmade.com/733e599a1fe841afaceb855b0ac0f833/{styleId}/256/{z}/{x}/{y}.png",d="Map data &copy; 2011 OpenStreetMap contributors, Imagery &copy; 2011 CloudMade",e=L.tileLayer("http://{s}.tile2.opencyclemap.org/transport/{z}/{x}/{y}.png",{attribution:'&copy; <a href="http://www.opencyclemap.org">OpenCycleMap</a>, &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>'}),f="";L.tileLayer(c,{styleId:33738,attribution:d}),L.tileLayer(c,{styleId:12790,attribution:d})}map=L.map("map",{center:new L.LatLng(64.4367,16.39882),zoom:5,layers:[e]}),$.getJSON("http://localhost:8080/rail/station").done(function(a){console.dir(a);L.geoJson(a,{pointToLayer:function(a,b){var c=a.properties.tags.name;return L.marker(b).bindPopup(c)}}).addTo(map)});var g=L.control();g.onAdd=function(){return this._div=L.DomUtil.create("div","info"),this.update(),this._div},g.update=function(){this._div.innerHTML=f},$.getJSON("http://localhost:8080/rail/section").done(function(a){for(var c='<div id="listContainer"><ul id="expList">',d=0;d<a.length;d++){c+="<li>"+a[d].omrade+"<ul>";for(var e=0;e<a[d].baner.length;e++){c+="<li>"+a[d].baner[e].banesjef+"<ul>";for(var f=0;f<a[d].baner[e].banestrekninger.length;f++)c+="<li>"+a[d].baner[e].banestrekninger[f].banestrekning+"</li>";c+="</ul></li>"}c+="</ul></li>"}c+="</ul></div>",g._div.innerHTML=c,b()}).fail(function(){console.dir(arguments)}),g.addTo(map),$("#theLink").click(function(b){b.preventDefault(),a()})});